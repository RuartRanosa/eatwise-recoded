{"ast":null,"code":"import _classCallCheck from \"/home/ruart/Desktop/eatwise-recoded/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/ruart/Desktop/eatwise-recoded/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/ruart/Desktop/eatwise-recoded/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/ruart/Desktop/eatwise-recoded/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/ruart/Desktop/eatwise-recoded/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/ruart/Desktop/eatwise-recoded/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/ruart/Desktop/eatwise-recoded/client/src/components/SearchShop.js\";\nimport React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport './../App.css';\nimport pic1 from './../3.jpg';\nimport StarRatingComponent from 'react-star-rating-component';\nimport Image from 'react-bootstrap/Image';\nimport { Button } from 'react-bootstrap';\n\nvar SearchShop =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SearchShop, _Component);\n\n  function SearchShop() {\n    var _this;\n\n    _classCallCheck(this, SearchShop);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SearchShop).call(this));\n    _this.state = {\n      shops: []\n    };\n    _this.searchShop = _this.searchShop.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(SearchShop, [{\n    key: \"searchShop\",\n    value: function searchShop(e) {\n      var _this2 = this;\n\n      var query = e.target.value;\n      fetch('http://localhost:3001/search-all-shops/?name=' + query).then(function (response) {\n        return response.json();\n      }).then(function (result) {\n        console.log(result);\n\n        _this2.setState({\n          shop: result\n        });\n      }).catch(function (e) {\n        console.log(e);\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      fetch('http://localhost:3001/view-shops/').then(function (response) {\n        return response.json();\n      }).then(function (result) {\n        console.log(result);\n\n        _this3.setState({\n          shops: result\n        });\n      }).catch(function (e) {\n        console.log(e);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      {\n        /*Function for returning all shops that match the searched word*/\n      }\n\n      var Suggestions = function Suggestions(props) {\n        var data = props;\n\n        var options = _this4.state.shops.map(function (r) {\n          return React.createElement(Link, {\n            to: \"/shop/?shopName=\" + r.name + \"&shopId=\" + r.shopId,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 46\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"search-item\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 47\n            },\n            __self: this\n          }, React.createElement(\"table\", {\n            class: \"text-left\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 48\n            },\n            __self: this\n          }, React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 50\n            },\n            __self: this\n          }, React.createElement(\"li\", {\n            key: r.shopId,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 51\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            class: \"image\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 52\n            },\n            __self: this\n          }, React.createElement(Image, {\n            class: \"d-block w-100\",\n            src: pic1,\n            alt: \"Third slide\",\n            className: \"pic2\",\n            rounded: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 53\n            },\n            __self: this\n          }), React.createElement(\"h5\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 54\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 54\n            },\n            __self: this\n          }, r.name, React.createElement(StarRatingComponent, {\n            editing: false,\n            starCount: 5,\n            value: r.votes,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 56\n            },\n            __self: this\n          }))), React.createElement(\"h6\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 62\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 62\n            },\n            __self: this\n          }, \"Description: \", r.description, \" \"))))))));\n        });\n\n        return React.createElement(\"ul\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }, options);\n      };\n\n      return React.createElement(\"body\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"article\", {\n        className: \"csearch-bar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(Button, {\n        className: \"search-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"Randomize\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"search-bar\",\n        name: \"Search\",\n        placeholder: \"Search for restaurants...\",\n        value: this.state.query,\n        onChange: this.searchShop,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }), React.createElement(Suggestions, {\n        results: this.state.shop,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return SearchShop;\n}(Component);\n\nexport default SearchShop;","map":{"version":3,"sources":["/home/ruart/Desktop/eatwise-recoded/client/src/components/SearchShop.js"],"names":["React","Component","Link","withRouter","pic1","StarRatingComponent","Image","Button","SearchShop","state","shops","searchShop","bind","e","query","target","value","fetch","then","response","json","result","console","log","setState","shop","catch","Suggestions","props","data","options","map","r","name","shopId","votes","description"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,EAAeC,UAAf,QAAiC,kBAAjC;AACA,OAAO,cAAP;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,OAAOC,mBAAP,MAAgC,6BAAhC;AACA,OAAOC,KAAP,MAAkB,uBAAlB;AACA,SAASC,MAAT,QAAuB,iBAAvB;;IAEMC,U;;;;;AACJ,wBAAa;AAAA;;AAAA;;AACP;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,KAAK,EAAE;AADE,KAAb;AAGA,UAAKC,UAAL,GAAkB,MAAKA,UAAL,CAAgBC,IAAhB,uDAAlB;AALO;AAMZ;;;;+BAEUC,C,EAAE;AAAA;;AACX,UAAMC,KAAK,GAAGD,CAAC,CAACE,MAAF,CAASC,KAAvB;AAEAC,MAAAA,KAAK,CAAC,kDAAgDH,KAAjD,CAAL,CACOI,IADP,CACY,UAACC,QAAD,EAAc;AAAE,eAAOA,QAAQ,CAACC,IAAT,EAAP;AAAwB,OADpD,EAEOF,IAFP,CAEY,UAACG,MAAD,EAAY;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;;AACA,QAAA,MAAI,CAACG,QAAL,CAAc;AAACC,UAAAA,IAAI,EAAEJ;AAAP,SAAd;AACH,OALP,EAMOK,KANP,CAMa,UAACb,CAAD,EAAO;AAAES,QAAAA,OAAO,CAACC,GAAR,CAAYV,CAAZ;AAAe,OANrC;AAQD;;;wCAEkB;AAAA;;AACjBI,MAAAA,KAAK,CAAC,mCAAD,CAAL,CACSC,IADT,CACc,UAACC,QAAD,EAAc;AAAE,eAAOA,QAAQ,CAACC,IAAT,EAAP;AAAwB,OADtD,EAESF,IAFT,CAEc,UAACG,MAAD,EAAY;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;;AACA,QAAA,MAAI,CAACG,QAAL,CAAc;AAACd,UAAAA,KAAK,EAAEW;AAAR,SAAd;AACH,OALT,EAMSK,KANT,CAMe,UAACb,CAAD,EAAO;AAAES,QAAAA,OAAO,CAACC,GAAR,CAAYV,CAAZ;AAAe,OANvC;AAOD;;;6BAEW;AAAA;;AACN;AAAC;AAAkE;;AACnE,UAAMc,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAW;AAC7B,YAAMC,IAAI,GAAGD,KAAb;;AACA,YAAME,OAAO,GAAG,MAAI,CAACrB,KAAL,CAAWC,KAAX,CAAiBqB,GAAjB,CAAqB,UAACC,CAAD;AAAA,iBACnC,oBAAC,IAAD;AAAM,YAAA,EAAE,EAAE,qBAAmBA,CAAC,CAACC,IAArB,GAA0B,UAA1B,GAAqCD,CAAC,CAACE,MAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE;AAAK,YAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE;AAAO,YAAA,KAAK,EAAG,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE;AAAI,YAAA,GAAG,EAAEF,CAAC,CAACE,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE;AAAK,YAAA,KAAK,EAAC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE,oBAAC,KAAD;AAAO,YAAA,KAAK,EAAC,eAAb;AAA6B,YAAA,GAAG,EAAE9B,IAAlC;AAAwC,YAAA,GAAG,EAAC,aAA5C;AAA0D,YAAA,SAAS,EAAC,MAApE;AAA2E,YAAA,OAAO,MAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACD4B,CAAC,CAACC,IADD,EAEF,oBAAC,mBAAD;AACE,YAAA,OAAO,EAAE,KADX;AAEE,YAAA,SAAS,EAAE,CAFb;AAGE,YAAA,KAAK,EAAED,CAAC,CAACG,KAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFE,CAAJ,CAFF,EAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAAoBH,CAAC,CAACI,WAAtB,MAAJ,CAVF,CADF,CADF,CAFJ,CADF,CADF,CADmC;AAAA,SAArB,CAAhB;;AA2BA,eAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKN,OAAL,CAAP;AACD,OA9BD;;AAgCA,aACM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEE;AAAS,QAAA,SAAS,EAAC,aAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAG,eAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,EAEE;AAAO,QAAA,IAAI,EAAC,MAAZ;AACE,QAAA,SAAS,EAAC,YADZ;AAEE,QAAA,IAAI,EAAC,QAFP;AAGE,QAAA,WAAW,EAAC,2BAHd;AAIE,QAAA,KAAK,EAAE,KAAKrB,KAAL,CAAWK,KAJpB;AAKE,QAAA,QAAQ,EAAE,KAAKH,UALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EASE,oBAAC,WAAD;AAAa,QAAA,OAAO,EAAI,KAAKF,KAAL,CAAWgB,IAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QATF,CAFF,CADN;AAiBH;;;;EAnFoBxB,S;;AAsFzB,eAAeO,UAAf","sourcesContent":["import React, { Component } from 'react'\nimport { Link, withRouter } from 'react-router-dom'\nimport './../App.css';\nimport pic1 from './../3.jpg'\nimport StarRatingComponent from 'react-star-rating-component';\nimport Image from 'react-bootstrap/Image'\nimport { Button } from 'react-bootstrap';\n\nclass SearchShop extends Component {\n  constructor(){\n        super()\n        this.state = {\n            shops: []\n        }\n        this.searchShop = this.searchShop.bind(this)\n  }\n\n  searchShop(e){\n    const query = e.target.value;\n\n    fetch('http://localhost:3001/search-all-shops/?name='+query)\n          .then((response) => { return response.json() })\n          .then((result) => {\n              console.log(result)\n              this.setState({shop: result})\n          })\n          .catch((e) => { console.log(e)});\n\n  }\n\n  componentDidMount(){\n    fetch('http://localhost:3001/view-shops/')\n            .then((response) => { return response.json() })\n            .then((result) => {\n                console.log(result)\n                this.setState({shops: result})\n            })\n            .catch((e) => { console.log(e)});\n  }\n\n    render () {\n        {/*Function for returning all shops that match the searched word*/}\n        const Suggestions = (props) => {\n          const data = props  \n          const options = this.state.shops.map((r) => (\n            <Link to={\"/shop/?shopName=\"+r.name+\"&shopId=\"+r.shopId}> \n              <div className=\"search-item\">\n                <table class = \"text-left\">\n                  \n                    <td> \n                      <li key={r.shopId}>\n                        <div class=\"image\">\n                          <Image class=\"d-block w-100\" src={pic1} alt=\"Third slide\" className=\"pic2\" rounded/>\n                          <h5><span>\n                            {r.name}\n                            <StarRatingComponent \n                              editing={false}\n                              starCount={5}\n                              value={r.votes}\n                            />\n                          </span></h5>\n                          <h6><span>Description: {r.description} </span></h6>\n                          \n                        </div>\n                    </li>\n                    </td>\n                  \n               </table>\n              </div>\n            </Link>\n          ))\n          return <ul>{options}</ul>\n        }\n\n        return (\n              <body>\n                  {/*=================Search bar & results =================*/}\n                <article className=\"csearch-bar\">\n                  <Button className = \"search-button\">Randomize</Button>\n                  <input type=\"text\"\n                    className=\"search-bar\"\n                    name=\"Search\"\n                    placeholder=\"Search for restaurants...\"\n                    value={this.state.query}\n                    onChange={this.searchShop}\n                  />\n                  <Suggestions results = {this.state.shop} />\n                {/*=========================================================*/}\n                </article>\n              </body>            \n        )\n    }\n}\n\nexport default SearchShop"]},"metadata":{},"sourceType":"module"}