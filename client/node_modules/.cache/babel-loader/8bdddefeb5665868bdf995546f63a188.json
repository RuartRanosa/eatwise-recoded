{"ast":null,"code":"import _classCallCheck from \"/home/ruart/Desktop/eatwise-recoded/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/ruart/Desktop/eatwise-recoded/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/ruart/Desktop/eatwise-recoded/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/ruart/Desktop/eatwise-recoded/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/ruart/Desktop/eatwise-recoded/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/ruart/Desktop/eatwise-recoded/client/src/components/Shop.js\";\nimport React, { Component } from 'react';\nimport SearchShop from './SearchShop';\n\nvar qs = require(\"query-string\");\n\nvar Shop =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Shop, _Component);\n\n  function Shop() {\n    var _this;\n\n    _classCallCheck(this, Shop);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Shop).call(this));\n    _this.state = {\n      name: \"\",\n      id: \"\",\n      avgPrice: \"\",\n      type: \"\",\n      location: \"\",\n      description: \"\",\n      menu: \"\",\n      votes: 0\n    };\n    return _this;\n  }\n\n  _createClass(Shop, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var shopName = qs.parse(this.props.location.search, {\n        ignoreQueryPrefix: true\n      }).shopName;\n      var id = qs.parse(this.props.location.search, {\n        ignoreQueryPrefix: true\n      }).shopId;\n      console.log(qs.parse(this.props.location.search, {\n        ignoreQueryPrefix: true\n      }));\n      this.setState({\n        name: shopName\n      });\n      this.setState({\n        id: id\n      });\n      fetch('http://localhost:3001/home/search-shop/?name=' + shopName + \"&id=\" + id).then(function (response) {\n        return response.json();\n      }).then(function (result) {\n        console.log(result);\n\n        _this2.setState({\n          avgPrice: result[0].avgPrice\n        });\n\n        _this2.setState({\n          type: result[0].type\n        });\n\n        _this2.setState({\n          location: result[0].location\n        });\n\n        _this2.setState({\n          description: result[0].description\n        });\n\n        _this2.setState({\n          menu: result[0].menu\n        });\n\n        _this2.setState({\n          votes: result[0].votes\n        });\n      }).catch(function (e) {\n        console.log(e);\n      });\n    } //reloads page when new data arrives\n\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      window.location.reload();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, \"Shop\")), React.createElement(\"table\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, \"Shop name: \"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, this.state.name)), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, \"Shop ID: \"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, this.state.id)), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"Average Pricing: \"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, this.state.avgPrice)), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"Type: \"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, this.state.type)), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"Location: \"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, this.state.location)), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Description: \"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, this.state.description)), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"Menu: \"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, this.state.menu)), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \"Votes: \"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, this.state.votes)))), React.createElement(\"button\", {\n        onClick: this.addShop,\n        className: \"search-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"Add review\"), React.createElement(SearchShop, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Shop;\n}(Component);\n\n{\n  /*\n     View url content\n     <td>{console.log(this.props)}</td>\n     <td>{console.log(qs.parse(this.props.location.search, {ignoreQueryPrefix: true}).shopName)}</td>\n  */\n}\nexport default Shop;","map":{"version":3,"sources":["/home/ruart/Desktop/eatwise-recoded/client/src/components/Shop.js"],"names":["React","Component","SearchShop","qs","require","Shop","state","name","id","avgPrice","type","location","description","menu","votes","shopName","parse","props","search","ignoreQueryPrefix","shopId","console","log","setState","fetch","then","response","json","result","catch","e","nextProps","window","reload","addShop"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport SearchShop from './SearchShop'\n\nconst qs = require(\"query-string\")\n\nclass Shop extends Component {\n    constructor() {\n        super()\n        this.state = {\n            name: \"\",\n            id: \"\",\n            avgPrice: \"\",\n            type: \"\",\n            location: \"\",\n            description: \"\",\n            menu: \"\",\n            votes: 0\n        }\n    }\n\n    componentDidMount(){\n        var shopName = qs.parse(this.props.location.search, {ignoreQueryPrefix: true}).shopName\n        var id = qs.parse(this.props.location.search, {ignoreQueryPrefix: true}).shopId\n        console.log(qs.parse(this.props.location.search, {ignoreQueryPrefix: true}))\n        this.setState({name: shopName})\n        this.setState({id: id})\n        fetch('http://localhost:3001/home/search-shop/?name='+shopName+\"&id=\"+id)\n            .then((response) => { return response.json() })\n            .then((result) => {\n                console.log(result)\n                this.setState({avgPrice: result[0].avgPrice})\n                this.setState({type: result[0].type})\n                this.setState({location: result[0].location})\n                this.setState({description: result[0].description})\n                this.setState({menu: result[0].menu})\n                this.setState({votes: result[0].votes})\n            })\n            .catch((e) => { console.log(e)});        \n    }\n\n    //reloads page when new data arrives\n    componentWillReceiveProps(nextProps){\n           window.location.reload()\n    }\n    \n\n    render () {\n        return (\n            <div>\n                <div>\n                    <div>\n                        <h1>Shop</h1>\n                    </div>\n                    <table>\n                        <tbody>\n                            <tr>\n                                <td>Shop name: </td>\n                                <td>{this.state.name}</td>\n                            </tr>\n                             <tr>\n                                <td>Shop ID: </td>\n                                <td>{this.state.id}</td>\n                            </tr>\n                            <tr>\n                                <td>Average Pricing: </td>\n                                <td>{this.state.avgPrice}</td>\n                            </tr>\n                            <tr>\n                                <td>Type: </td>\n                                <td>{this.state.type}</td>\n                            </tr>\n                            <tr>\n                                <td>Location: </td>\n                                <td>{this.state.location}</td>\n                            </tr>\n                            <tr>\n                                <td>Description: </td>\n                                <td>{this.state.description}</td>\n                            </tr>\n                            <tr>\n                                <td>Menu: </td>\n                                <td>{this.state.menu}</td>\n                            </tr>\n                            <tr>\n                                <td>Votes: </td>\n                                <td>{this.state.votes}</td>\n                            </tr>\n                        </tbody>\n                    </table>\n                    <button onClick = {this.addShop}\n                        className = \"search-button\">\n                          Add review\n                    </button>\n                    <SearchShop/>\n                </div>\n            </div>\n        )\n    }\n}\n\n{/*\n    View url content\n    <td>{console.log(this.props)}</td>\n    <td>{console.log(qs.parse(this.props.location.search, {ignoreQueryPrefix: true}).shopName)}</td>\n*/}\n\n\nexport default Shop"]},"metadata":{},"sourceType":"module"}